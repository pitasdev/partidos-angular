<main class="w-[820px] pb-8 m-auto select-none sm:w-[420px]">

  <section class="flex justify-between p-4 sm:grid sm:grid-cols-2">
    
    <app-controles-equipo 
      [tipoEquipo]="'local'"
      (eventoSumarGol)="sumarGol($event)"
      (eventoRestarGol)="restarGol($event)"
      (eventoSumarFalta)="sumarFalta($event)"
      (eventoRestarFalta)="restarFalta($event)"
    />

    <app-tiempo class="sm:col-span-2"
      [estadoTiempo]="estadoTiempo"
      (eventoReiniciar)="reiniciar()"
      (eventoCambiarEstadoTiempo)="cambiarEstadoTiempo($event)"
    />

    <app-controles-equipo class="sm:col-start-2 sm:row-start-1"
      [tipoEquipo]="'visitante'"
      (eventoSumarGol)="sumarGol($event)"
      (eventoRestarGol)="restarGol($event)"
      (eventoSumarFalta)="sumarFalta($event)"
      (eventoRestarFalta)="restarFalta($event)"
    />

  </section>

  <app-resultado 
    [equipoLocal]="equipoLocal"
    [equipoVisitante]="equipoVisitante"
    [escudoLocal]="escudoLocal"
    [escudoVisitante]="escudoVisitante"
    [resultadoLocal]="golesLocal"
    [resultadoVisitante]="golesVisitante"
    [parte]="parte"
    [estadoTiempo]="estadoTiempo"
    (eventoCambiarParte)="cambiarParte($event)"
  />

  <section class="flex justify-between px-4 py-2 sm:grid sm:grid-cols-2">

    <app-faltas 
      [tipoEquipo]="'local'"
      [numFaltas]="parte == 1 ? faltasLocalParte1 : faltasLocalParte2"
    />

    @if (estadoTiempo == 'fullReset') {
      <app-configurar-partido class="sm:col-span-2 sm:mx-auto sm:mt-5 sm:mb-1"
        (eventoConfigurar)="configurarEquipos($event)"
      />
    }

    <app-faltas class="sm:col-start-2 sm:row-start-1"
      [tipoEquipo]="'visitante'"
      [numFaltas]="parte == 1 ? faltasVisitanteParte1 : faltasVisitanteParte2"
    />

  </section>

  <section class="flex justify-between p-4 sm:flex-col sm:items-center sm:gap-5">

    <div class="flex flex-col">

      <h2 class="hidden text-2xl font-semibold text-center pb-2 sm:block">{{equipoLocal}}</h2>

      <app-info 
        [tipoEquipo]="'local'"
        [goles]="listaGolesLocal"
        [tarjetas]="listaTarjetasLocal"
        (eventoAnadirTarjeta)="anadirTarjeta($event)"
      />

    </div>

    <div>

      <h2 class="hidden text-2xl font-semibold text-center pb-2 sm:block">{{equipoVisitante}}</h2>

      <app-info 
        [tipoEquipo]="'visitante'"
        [goles]="listGolesVisitante"
        [tarjetas]="listaTarjetasVisitante"
        (eventoAnadirTarjeta)="anadirTarjeta($event)"
      />

    </div>

  </section>

  @if (openModalSumar) {
    <app-modal-sumar 
      [tipoEquipo]="modalTipoEquipo"
      [tipoDato]="modalTipoDato"
      (eventoGuardar)="guardarDatos($event)"
    />
  }

  @if (openModalRestar) {
    <app-modal-restar 
      [tipoEquipo]="modalTipoEquipo"
      [tipoDato]="modalTipoDato"
      [listaDatos]="modalListaDatos"
      (eventoEliminar)="eliminarDatos($event)"
    />
  }

</main>
